{% extends 'base.html' %}

{% block head %}
<title>Image Classifier</title>
{% endblock %}

{% block body %}


<div class="container" style="margin-top: 4%;">
    {% if pics|length < 1 %}
    <h4>There are no Images. Add one below!</h4>
    {% else %}
    <div class="row">
        <div class="row">
            {% for pic in pics %}
            <div class="col s12 m4">
                <div class="card">
                    <div class="card-image">
                        <!-- <img src="{{ url_for('serve_img', img_id=pic.id)}}"> -->
                        <img src="{{url_for('static', filename='images/')}}{{pic.id}}__masked.jpg">
                        <span class="card-title">{{ pic.name }}</span>
                        <a class="btn-floating halfway-fab waves-effect waves-light red" href="/delete/{{ pic.id }}">
                            <i class="small material-icons">delete</i>
                        </a>
                        <a class="btn-floating halfway-fab waves-effect waves-light red" style="margin-right: 50px;" href="/update/{{ pic.id }}">
                            <i class="small material-icons">edit</i>
                        </a>
                    </div>
                    <div class="card-content">
                        <!-- <p>{{ pic.name }}</p> -->
                        <p>{{ pic.date_uploaded.date() }}</p>
                        <p>{{ pic.data }}</p>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    {% endif %}
    <form action="/" method="POST" enctype="multipart/form-data">
        <div class="row" style="margin-top: 20px;">
            <div class="col s12"></div>
            <div class="file-field input-field col s10">
                <div class="btn light-blue darken-3">
                    <span>Browse</span>
                    <input type="file" name="uploadPic" />
                </div>

                <div class="file-path-wrapper">
                    <input class="file-path validate" type="text" placeholder="Upload file" />
                </div>
            </div>
            <div class="input-field col s2 right-align">
                <button class="btn waves-effect waves-light light-blue darken-3" type="submit" name="action">
                    <i class="small material-icons">add</i>
                </button>
            </div>
        </div>
    </form>
</div>

{% endblock %}